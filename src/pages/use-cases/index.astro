---
import Layout from '../../components/Layout.astro';
import { getCollection } from 'astro:content';

const pages = await getCollection('pages', ({ data }) => {
  return data.section === 'use-cases' && !data.draft;
});

const sortedPages = pages.sort((a, b) => 
  new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
---

<Layout
  title="AI Tools by Use Case - PickMyAITools"
  description="Find the best AI tools for specific use cases including marketing, content writing, SEO, social media, and more."
  keywords={['AI use cases', 'AI tools by use case', 'marketing AI tools', 'content writing AI', 'SEO AI tools']}
  canonical="/use-cases"
>
  <div class="container mx-auto px-4">
    <header class="section-pad container-page">
      <h1 class="heading-1 mb-5 md:mb-6">
        AI Tools by Use Case
      </h1>
      <p class="body-lead text-lg">
        Find the perfect AI tools tailored to your specific needs and use cases.
      </p>
    </header>

    <div class="container-page pb-14 md:pb-20">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
        {sortedPages.map((page) => {
          const url = `/use-cases/${page.slug}`;
          return (
            <a
              href={url}
              class="card-soft hover:bg-slate-800/70 transition-colors block"
            >
              <h2 class="card-title mb-4">{page.data.title}</h2>
              <p class="body-muted text-sm mb-4">{page.data.description}</p>
              <div class="flex flex-wrap gap-2">
                {page.data.keywords.slice(0, 3).map((keyword) => (
                  <span class="text-xs bg-white/5 text-gray-400 px-2 py-1 rounded-sm">
                    {keyword}
                  </span>
                ))}
              </div>
            </a>
          );
        })}
      </div>
    </div>
  </div>
</Layout>
